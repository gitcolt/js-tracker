{"version":3,"sources":["containers/App.module.css","components/Row.js","colors.js","notes.js","keymap.js","containers/App.js","store/actions.js","serviceWorker.js","store/reducer.js","index.js"],"names":["module","exports","App","row","props","react_default","a","createElement","style","height","boxSizing","display","whiteSpace","background","padding","fontFamily","index","toString","padStart","map","track","i","key","isRowSelected","curColumn","color","note","label","instrumentIdx","notes","C4","frequency","Cs4","D4","Ds4","E4","F4","Fs4","G4","Gs4","A4","As4","B4","C5","Cs5","D5","Ds5","E5","F5","Fs5","G5","Gs5","A5","As5","B5","C6","Cs6","D6","Ds6","E6","none","keymap","KeyQ","Digit2","KeyW","Digit3","KeyE","KeyR","Digit5","KeyT","Digit6","KeyY","Digit7","KeyU","KeyI","Digit9","KeyO","Digit0","KeyP","KeyZ","KeyS","KeyX","KeyD","KeyC","KeyV","KeyG","KeyB","KeyH","KeyN","KeyJ","KeyM","Comma","KeyL","Period","Semicolon","Slash","Backspace","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","curPos","curSequenceIdx","curPlayingSequenceIdx","isPlaying","selectedInstrumentIdx","componentDidMount","_","window","addEventListener","onKeyDown","onMouseDown","toggleIsRecording","getNumTracks","patterns","rows","length","curColumnRight","numColsPerRow","col","setState","curColumnLeft","curPosNext","prevState","nextPos","sequence","scrollAmt","rowHeight","patternRef","current","scrollTop","curPosPrev","prevPos","lastSequenceIdx","e","preventDefault","code","togglePlay","playNote","NOTES","KEYMAP","isRecording","trackNum","Math","floor","recordNote","id","scheduleNote","notePos","time","notesInQueue","push","pos","osc","audioContext","createOscillator","g","createGain","connect","masterGainNode","instrument","instruments","type","value","gain","setTargetAtTime","noteLength","start","stop","scheduler","nextNoteTime","currentTime","lookAheadSeconds","timer","setTimeout","updatePos","lastPosDrawn","splice","requestAnimationFrame","play","clearTimeout","onSelectInstrument","extendSequence","addPatternToSequence","shortenSequence","removePatternFromSequence","incrementSequencePatternId","patternId","find","pattern","createNewPattern","setSequencePatternId","decrementSequencePatternId","onSelectSequenceIdx","React","createRef","AudioContext","webkitAudioContext","gainNode","destination","bind","assertThisInitialized","arguments","undefined","now","_this2","className","styles","justifyContent","margin","cursor","listStyle","paddingLeft","overflowY","float","patternIdx","onClick","gridTemplateColumns","width","gridColumn","addRow","subRow","addTrack","subTrack","ref","position","bottom","Row","Component","dispatch","numTracks","payload","idx","newPatternId","Boolean","location","hostname","match","patternReducer","patternState","action","objectSpread","concat","filter","newRow","j","appReducer","combineReducers","curPosState","isRecordingState","updatedPatterns","patternsState","sequenceState","instrumentsState","store","createStore","reducer","ReactDOM","render","es","containers_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"4EACAA,EAAAC,QAAA,CAAkBC,IAAA,sOCkBHC,EAdH,SAAAC,GAAK,OACbC,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAACC,OAAQL,EAAMK,OAAS,KAAMC,UAAW,aAAcC,QAAS,OAAQC,WAAY,SAAUC,WCN7E,YDMmHC,QAAS,MAAOC,WAAY,gBACvKX,EAAMY,MAAMC,SAAS,IAAIC,SAAS,EAAG,KAD1C,OAEKd,EAAMD,IAAIgB,IAAI,SAACC,EAAOC,GAAR,OACXhB,EAAAC,EAAAC,cAAA,OAAKe,IAAKD,EAAGb,MAAO,CAACO,WAAY,cAAeF,WAAY,eACxDR,EAAAC,EAAAC,cAAA,QAAMC,MAAO,CAACK,WAAaT,EAAMmB,eAAkB,EAAEF,IAAWjB,EAAMoB,UAAa,OAAS,GAAIC,MAAO,UAClGL,EAAMM,KAAON,EAAMM,KAAKC,MAAQ,OACrCtB,EAAAC,EAAAC,cAAA,QAAMC,MAAO,CAACK,WAAaT,EAAMmB,eAAkB,EAAEF,EAAI,IAAOjB,EAAMoB,UAAa,OAAS,GAAIC,MCXjF,SDYc,OAAxBL,EAAMQ,cAAyBR,EAAMQ,cAAcX,SAAS,IAAIC,SAAS,EAAG,KAAO,MACxFb,EAAAC,EAAAC,cAAA,sBEoBDsB,EAlCD,CACVC,GAAQ,CAACH,MAAO,MAAOI,UAAW,OAClCC,IAAQ,CAACL,MAAO,MAAOI,UAAW,OAClCE,GAAQ,CAACN,MAAO,MAAOI,UAAW,OAClCG,IAAQ,CAACP,MAAO,MAAOI,UAAW,OAClCI,GAAQ,CAACR,MAAO,MAAOI,UAAW,OAClCK,GAAQ,CAACT,MAAO,MAAOI,UAAW,OAClCM,IAAQ,CAACV,MAAO,MAAOI,UAAW,KAClCO,GAAQ,CAACX,MAAO,MAAOI,UAAW,KAClCQ,IAAQ,CAACZ,MAAO,MAAOI,UAAW,OAClCS,GAAQ,CAACb,MAAO,MAAOI,UAAW,KAClCU,IAAQ,CAACd,MAAO,MAAOI,UAAW,OAClCW,GAAQ,CAACf,MAAO,MAAOI,UAAW,OAElCY,GAAK,CAAChB,MAAO,MAAOI,UAAW,OAC/Ba,IAAK,CAACjB,MAAO,MAAOI,UAAW,OAC/Bc,GAAK,CAAClB,MAAO,MAAOI,UAAW,OAC/Be,IAAK,CAACnB,MAAO,MAAOI,UAAW,OAC/BgB,GAAK,CAACpB,MAAO,MAAOI,UAAW,OAC/BiB,GAAK,CAACrB,MAAO,MAAOI,UAAW,OAC/BkB,IAAM,CAACtB,MAAO,MAAOI,UAAW,KAChCmB,GAAK,CAACvB,MAAO,MAAOI,UAAW,KAC/BoB,IAAM,CAACxB,MAAO,MAAOI,UAAW,OAChCqB,GAAK,CAACzB,MAAO,MAAOI,UAAW,KAC/BsB,IAAM,CAAC1B,MAAO,MAAOI,UAAW,OAChCuB,GAAK,CAAC3B,MAAO,MAAOI,UAAW,OAC/BwB,GAAK,CAAC5B,MAAO,MAAOI,UAAW,QAC/ByB,IAAK,CAAC7B,MAAO,MAAOI,UAAW,QAC/B0B,GAAK,CAAC9B,MAAO,MAAOI,UAAW,QAC/B2B,IAAK,CAAC/B,MAAO,MAAOI,UAAW,QAC/B4B,GAAK,CAAChC,MAAO,MAAOI,UAAW,QAC/B6B,KAAM,MCSKC,EAxCA,CACXC,KAAM,KACNC,OAAQ,MACRC,KAAM,KACNC,OAAQ,MACRC,KAAM,KACNC,KAAM,KACNC,OAAQ,MACRC,KAAM,KACNC,OAAQ,MACRC,KAAM,KACNC,OAAQ,MACRC,KAAM,KACNC,KAAM,KACNC,OAAQ,MACRC,KAAM,KACNC,OAAQ,MACRC,KAAM,KAENC,KAAM,KACNC,KAAM,MACNC,KAAM,KACNC,KAAM,MACNC,KAAM,KACNC,KAAM,KACNC,KAAM,MACNC,KAAM,KACNC,KAAM,MACNC,KAAM,KACNC,KAAM,MACNC,KAAM,KACNC,MAAO,KACPC,KAAM,MACNC,OAAQ,KACRC,UAAW,MACXC,MAAO,KAEPC,UAAW,QC1BT9F,cAEF,SAAAA,EAAYE,GAAO,IAAA6F,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAlG,IACf+F,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAhG,GAAAqG,KAAAH,KAAMhG,KAsBVoG,MAAQ,CACJC,OAAQ,EACRjF,UAAW,EACXkF,eAAgB,EAChBC,sBAAuB,EACvBC,WAAW,EACXC,sBAAuB,GA7BRZ,EAgCnBa,kBAAoB,SAAAC,GAChBC,OAAOC,iBAAiB,UAAWhB,EAAKiB,WACxCF,OAAOC,iBAAiB,YAAahB,EAAKkB,cAlC3BlB,EAqCnBmB,kBAAoB,SAAAL,GAChBd,EAAK7F,MAAMgH,qBAtCInB,EAyCnBoB,aAAe,SAAAN,GACX,OAAOd,EAAK7F,MAAMkH,SAAS,GAAGC,KAAK,GAAGC,QA1CvBvB,EA6CnBwB,eAAiB,SAAAV,GACb,IAAIW,EAAsC,EAAtBzB,EAAKoB,eACrBM,EAAO1B,EAAKO,MAAMhF,UAAY,EAAIkG,EAAgB,EAAKA,EAAgB,EAAIzB,EAAKO,MAAMhF,UAAY,EACtGyE,EAAK2B,SAAS,CACVpG,UAAWmG,KAjDA1B,EAqDnB4B,cAAgB,SAAAd,GACZd,EAAK2B,SAAS,CACVpG,UAAYyE,EAAKO,MAAMhF,UAAY,EAAI,EAAK,EAAIyE,EAAKO,MAAMhF,UAAY,KAvD5DyE,EA2DnB6B,WAAa,SAAAf,GACTd,EAAK2B,SAAS,SAACG,EAAW3H,GACtB,IAAM4H,GAAaD,EAAUtB,OAAS,GAAKrG,EAAMkH,SAASlH,EAAM6H,SAASF,EAAUrB,iBAAiBa,KAAKC,OACzG,OAAgB,IAAZQ,EACO,CACHtB,gBAAiBqB,EAAUrB,eAAiB,GAAKtG,EAAM6H,SAAST,OAChEf,OAAQuB,GAGL,CACHvB,OAAQuB,IAGjB,WACC,IAAME,EAAYjC,EAAKkC,UAAUlC,EAAKO,MAAMC,OAC5CR,EAAKmC,WAAWC,QAAQC,UAAYJ,KA1EzBjC,EA8EnBsC,WAAa,SAAAxB,GACTd,EAAK2B,SAAS,SAACG,EAAW3H,GACtB,IAAIoI,EAAUT,EAAUtB,OAAS,EACjC,GAAI+B,EAAU,EAAG,CACb,IAAMC,EAAmBV,EAAUrB,eAAiB,EAAI,EAAMtG,EAAM6H,SAAST,OAAS,EAAMO,EAAUrB,eAAiB,EAEvH,MAAO,CACHA,eAAgB+B,EAChBhC,OAHJ+B,EAAUpI,EAAMkH,SAASlH,EAAM6H,SAASQ,IAAkBlB,KAAKC,OAAS,GAMxE,MAAO,CACHf,OAAQ+B,IAGjB,WACC,IAAMN,EAAYjC,EAAKkC,UAAUlC,EAAKO,MAAMC,OAC5CR,EAAKmC,WAAWC,QAAQC,UAAYJ,KA/FzBjC,EAmGnBkB,YAAc,SAACuB,GACXA,EAAEC,kBApGa1C,EAuGnBiB,UAAY,SAACwB,GACT,OAAOA,EAAEE,MACL,IAAK,YACI3C,EAAKO,MAAMI,WACZX,EAAK6B,aACT,MACJ,IAAK,UACI7B,EAAKO,MAAMI,WACZX,EAAKsC,aACT,MACJ,IAAK,YACDtC,EAAK4B,gBACL,MACJ,IAAK,aACD5B,EAAKwB,iBACL,MACJ,IAAK,QACDxB,EAAK4C,aACL,MACJ,IAAK,QACD5C,EAAK7F,MAAMgH,oBACX,MACJ,IAAK,OACL,IAAK,OACL,IAAK,OACL,IAAK,OACL,IAAK,OACL,IAAK,OACL,IAAK,OACL,IAAK,OACL,IAAK,OACL,IAAK,OACL,IAAK,OACL,IAAK,OACL,IAAK,QACL,IAAK,OACL,IAAK,SACL,IAAK,YACL,IAAK,QACL,IAAK,OACL,IAAK,SACL,IAAK,OACL,IAAK,SACL,IAAK,OACL,IAAK,OACL,IAAK,SACL,IAAK,OACL,IAAK,SACL,IAAK,OACL,IAAK,SACL,IAAK,OACL,IAAK,OACL,IAAK,SACL,IAAK,OACL,IAAK,SACL,IAAK,OACL,IAAK,YAED,GADAnB,EAAK6C,SAASC,EAAMC,EAAON,EAAEE,QACzB3C,EAAK7F,MAAM6I,YAAa,CACxB,IAAMvH,EAAOqH,EAAMC,EAAON,EAAEE,OACxBM,EAAWC,KAAKC,MAAMnD,EAAKO,MAAMhF,UAAY,GAC7CI,EAAgBqE,EAAKO,MAAMK,sBAC/BZ,EAAK7F,MAAMiJ,WAAW3H,EAAME,EAAeqE,EAAKO,MAAMC,OAAQyC,EAAUjD,EAAK7F,MAAMkH,SAASrB,EAAK7F,MAAM6H,SAAShC,EAAKO,MAAME,iBAAiB4C,OArKzIrD,EA+MnBsD,aAAe,SAACC,EAASC,GACrBxD,EAAKyD,aAAaC,KAAK,CAACC,IAAKJ,EAASC,KAAMA,IAE5C,IAAK,IAAIpI,EAAI,EAAGA,EAAI4E,EAAKoB,eAAgBhG,IAAK,CAC1C,IAAMD,EAAQ6E,EAAK7F,MAAMkH,SAASrB,EAAK7F,MAAM6H,SAAShC,EAAKO,MAAMG,wBAAwBY,KAAKiC,GAASnI,GACjGK,EAAON,EAAMM,KACnB,GAAa,OAATA,EAAJ,CACA,IAAIK,EAAYL,EAAKK,UAEf8H,EAAM5D,EAAK6D,aAAaC,mBACxBC,EAAI/D,EAAK6D,aAAaG,aAC5BD,EAAEE,QAAQjE,EAAKkE,gBACfN,EAAIK,QAAQF,GACZ,IAAMI,EAAanE,EAAK7F,MAAMiK,YAAYjJ,EAAMQ,eAChDiI,EAAIS,KAAOF,EAAWzI,MACtBkI,EAAI9H,UAAUwI,MAAQxI,EACtBiI,EAAEQ,KAAKC,gBAAgB,EAAGxE,EAAKyE,WAAY,IAC3Cb,EAAIc,MAAMlB,GACVI,EAAIe,KAAKnB,EAAOxD,EAAKyE,eAjOVzE,EAqOnB4E,UAAY,SAAA9D,GACR,KAAOd,EAAK6E,aAAe7E,EAAK6D,aAAaiB,YAAc9E,EAAK+E,kBAC5D/E,EAAKsD,aAAatD,EAAK+B,QAAS/B,EAAK6E,cAErC7E,EAAK6E,cAAgB,KAErB7E,EAAK2B,SAAS,SAACG,EAAW3H,GAEtB,GADA6F,EAAK+B,SAAW/B,EAAK+B,QAAU,GAAK5H,EAAMkH,SAASlH,EAAM6H,SAASF,EAAUpB,wBAAwBY,KAAKC,OACpF,IAAjBvB,EAAK+B,QACL,MAAO,CACHrB,uBAAwBoB,EAAUpB,sBAAwB,GAAKvG,EAAM6H,SAAST,UAK9FvB,EAAKgF,MAAQC,WAAWjF,EAAK4E,UAAW5E,EAAK+E,mBApP9B/E,EAuPnBkF,UAAY,SAAApE,GAER,IADA,IAAIgE,EAAc9E,EAAK6D,aAAaiB,YAC7B9E,EAAKyD,aAAalC,QAAUvB,EAAKyD,aAAa,GAAGD,KAAOsB,GACvD9E,EAAKmF,eAAiBnF,EAAKyD,aAAa,GAAGE,MAC3C3D,EAAK6B,aACL7B,EAAKmF,aAAenF,EAAKyD,aAAa,GAAGE,KAE7C3D,EAAKyD,aAAa2B,OAAO,EAAG,GAEhCC,sBAAsBrF,EAAKkF,YAhQZlF,EAmQnBsF,KAAO,SAAAxE,GACHd,EAAK2B,SAAS,CACVhB,WAAW,IAGfX,EAAK6E,aAAe7E,EAAK6D,aAAaiB,YACtC9E,EAAK+B,QAAU/B,EAAKO,MAAMC,OAC1BR,EAAKmF,aAAenF,EAAKO,MAAMC,OAC/BR,EAAK2B,SAAS,SAACG,EAAW3H,GAAZ,MAAuB,CACjCuG,sBAAuBoB,EAAUrB,kBAErCT,EAAK4E,YACL5E,EAAKkF,aA/QUlF,EAkRnB2E,KAAO,SAAA7D,GACHd,EAAK2B,SAAS,CACVhB,WAAW,IAGf4E,aAAavF,EAAKgF,QAvRHhF,EA0RnB4C,WAAa,SAAA9B,GACJd,EAAKO,MAAMI,UAGZX,EAAK2E,OAFL3E,EAAKsF,QA5RMtF,EAkSnBwF,mBAAqB,SAACpK,GAClB4E,EAAK2B,SAAS,CACVf,sBAAuBxF,KApSZ4E,EAySnByF,eAAiB,SAAA3E,GAEbd,EAAK7F,MAAMuL,qBADW,IA1SP1F,EA+SnB2F,gBAAkB,SAAA7E,GACdd,EAAK7F,MAAMyL,6BAhTI5F,EAmTnB6F,2BAA6B,SAAA/E,GACzB,IAAMgF,EAAY9F,EAAK7F,MAAM6H,SAAShC,EAAKO,MAAME,gBAAkB,EAC9DT,EAAK7F,MAAMkH,SAAS0E,KAAK,SAACC,GAAD,OAAaA,EAAQ3C,KAAOyC,KACtD9F,EAAK7F,MAAM8L,iBAAiBH,EAAW9F,EAAKoB,gBAEhDpB,EAAK7F,MAAM+L,qBAAqBlG,EAAKO,MAAME,eAAgBqF,IAxT5C9F,EA2TnBmG,2BAA6B,SAAArF,GACzB,IAAMgF,EAAY9F,EAAK7F,MAAM6H,SAAShC,EAAKO,MAAME,gBAAkB,EAC/DqF,GAAa,GACb9F,EAAK7F,MAAM+L,qBAAqBlG,EAAKO,MAAME,eAAgBqF,IA9ThD9F,EAiUnBoG,oBAAsB,SAAChL,GACnB4E,EAAK2B,SAAS,CACVnB,OAAQ,EACRC,eAAgBrF,KAlUpB4E,EAAKmC,WAAakE,IAAMC,YAExBtG,EAAK6D,aAAe,IAAK9C,OAAOwF,cAAgBxF,OAAOyF,oBACvDxG,EAAK+B,QAAU,EACf/B,EAAK6E,aAAe,EACpB7E,EAAK+E,iBAAmB,GACxB/E,EAAKyD,aAAe,GACpBzD,EAAKmF,aAAe,EACpBnF,EAAKyE,WAAa,GAClB,IAAIgC,EAAWzG,EAAK6D,aAAaG,aAXlB,OAafyC,EAASlC,KAAKD,MAAQ,GACtBmC,EAASxC,QAAQjE,EAAK6D,aAAa6C,aACnC1G,EAAKkE,eAAiBuC,EAEtBzG,EAAKkC,UAAY,GAEjBlC,EAAKiB,UAAYjB,EAAKiB,UAAU0F,KAAf1G,OAAA2G,EAAA,EAAA3G,CAAAD,IACjBA,EAAKkB,YAAclB,EAAKkB,YAAYyF,KAAjB1G,OAAA2G,EAAA,EAAA3G,CAAAD,IApBJA,wEA4KVvE,GAAwBoL,UAAAtF,OAAA,QAAAuF,IAAAD,UAAA,IAAAA,UAAA,GAC7B,GAAIpL,IAASqH,EAAMnF,KAAnB,CAsBA,IAAMiG,EAAMzD,KAAK0D,aAAaC,mBACxBC,EAAI5D,KAAK0D,aAAaG,aAC5BJ,EAAIS,KAAOlE,KAAKhG,MAAMiK,YAAYjE,KAAKI,MAAMK,uBAAuBlF,MACpEqI,EAAEE,QAAQ9D,KAAK+D,gBACfN,EAAIK,QAAQF,GACZH,EAAI9H,UAAUwI,MAAQ7I,EAAKK,UAC3B,IAAIiL,EAAM5G,KAAK0D,aAAaiB,YAC5Bf,EAAEQ,KAAKC,gBAAgB,EAAGrE,KAAKsE,WAAY,IAC3Cb,EAAIc,MAAMqC,GACVnD,EAAIe,KAAKoC,EAAM5G,KAAKsE,8CA4Hf,IAAAuC,EAAA7G,KACL,OACI/F,EAAAC,EAAAC,cAAA,OAAK2M,UAAWC,IAAOjN,KACnBG,EAAAC,EAAAC,cAAA,uBACc6F,KAAKhG,MAAM6H,SAAS7B,KAAKI,MAAME,iBAE7CrG,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAACG,QAAS,OAAQyM,eAAgB,kBAC1C/M,EAAAC,EAAAC,cAAA,OAAK+I,GAAG,qBAAqB9I,MAAO,CAACG,QAAS,QAASF,OAAQ,OAAQ4M,OAAQ,MAC3EhN,EAAAC,EAAAC,cAAA,MAAI+I,GAAG,WAAW9I,MAAO,CAAC6M,OAAQ,IAAK5M,OAAQ,UAAW6M,OAAQ,UAAWvM,WAAY,cAAewM,UAAW,OAAQ1M,WH3VjH,cG2VwJF,QAAS,QAAS6M,YAAa,IAAKC,UAAW,SAAUC,MAAO,SAC7NtH,KAAKhG,MAAM6H,SAAS9G,IAAI,SAACwM,EAAYtM,GAAb,OACrBhB,EAAAC,EAAAC,cAAA,MAAIe,IAAKD,EAAGuM,QAAS,kBAAMX,EAAKZ,oBAAoBhL,IAAIb,MAAQa,IAAM4L,EAAKzG,MAAME,eAAkB,CAAC7F,WH5VpG,UG4V2I,IAAMQ,EAAjJ,KAAsJsM,MAG9JtN,EAAAC,EAAAC,cAAA,OAAK+I,GAAG,oBAAoB9I,MAAO,CAACG,QAAS,OAAQkN,oBAAqB,UAAWpN,OAAQ,UAAWqN,MAAO,QAASJ,MAAO,SAC3HrN,EAAAC,EAAAC,cAAA,UAAQC,MAAO,CAACuN,WAAY,SAAUH,QAASxH,KAAKsF,gBAApD,UACArL,EAAAC,EAAAC,cAAA,UAAQC,MAAO,CAACuN,WAAY,SAAUH,QAASxH,KAAKwF,iBAApD,UACAvL,EAAAC,EAAAC,cAAA,UAAQqN,QAASxH,KAAK0F,4BAAtB,KACAzL,EAAAC,EAAAC,cAAA,UAAQqN,QAASxH,KAAKgG,4BAAtB,OAIR/L,EAAAC,EAAAC,cAAA,MAAIC,MAAO,CAACK,WHzWD,OGyWqC0M,UAAW,OAAQzM,QAAS,IAAKwM,OAAQ,UAAWG,UAAW,WAC1GrH,KAAKhG,MAAMiK,YAAYlJ,IAAI,SAACiJ,EAAY/I,GAAb,OACxBhB,EAAAC,EAAAC,cAAA,MAAIC,MAAO,CAACK,WAAaQ,IAAM4L,EAAKzG,MAAMK,sBAAyB,WAAkC,GAAIpF,MAAO,SAAUH,IAAKD,EAAGuM,QAAS,kBAAMX,EAAKxB,mBAAmBpK,KAAM+I,EAAWzI,WAKtMtB,EAAAC,EAAAC,cAAA,UAAQqN,QAASxH,KAAKgB,mBACjBhB,KAAKhG,MAAM6I,YAAc,eAAiB,oBAE/C5I,EAAAC,EAAAC,cAAA,UAAQqN,QAAS,kBAAMX,EAAK7M,MAAM4N,OAAOf,EAAK7M,MAAMkH,SAAS2F,EAAKzG,MAAME,gBAAgB4C,GAAI2D,EAAK5F,kBAAjG,WACAhH,EAAAC,EAAAC,cAAA,UAAQqN,QAAS,kBAAMX,EAAK7M,MAAM6N,OAAOhB,EAAK7M,MAAMkH,SAAS2F,EAAKzG,MAAME,gBAAgB4C,MAAxF,WACAjJ,EAAAC,EAAAC,cAAA,UAAQqN,QAASxH,KAAKhG,MAAM8N,UAA5B,aACA7N,EAAAC,EAAAC,cAAA,UAAQqN,QAASxH,KAAKhG,MAAM+N,UAA5B,aACA9N,EAAAC,EAAAC,cAAA,UAAQC,MAAO,CAACG,QAAS,SAAUiN,QAASxH,KAAKyC,YAAezC,KAAKI,MAAMI,UAAqB,OAAT,QAGvFvG,EAAAC,EAAAC,cAAA,OAAK6N,IAAKhI,KAAKgC,WAAY5H,MAAO,CAACE,UAAW,aAAcG,WH3X3C,YG2XiFC,QAAS,SAAU2M,UAAW,SAAUhN,OAAQ,OAAQqN,MAAO,MAAOO,SAAU,WAAYC,OAAQ,MACrMlI,KAAKhG,MAAMkH,SAASlB,KAAKhG,MAAM6H,SAAS7B,KAAKI,MAAME,iBAAiBa,KAAKpG,IAAI,SAAChB,EAAKkB,GAAN,OAC1EhB,EAAAC,EAAAC,cAACgO,EAAD,CAAK9N,OAAQwM,EAAK9E,UAAW7G,IAAKD,EAAGL,MAAOK,EAAGlB,IAAKA,EAAKoB,cAAeF,IAAM4L,EAAKzG,MAAMC,OAAQjF,UAAWyL,EAAKzG,MAAMhF,uBAlXzH8K,IAAMkC,WAoZTtE,cATS,SAAA1D,GACpB,MAAO,CACHyC,YAAazC,EAAMyC,YACnB3B,SAAUd,EAAMc,SAChBW,SAAUzB,EAAMyB,SAChBoC,YAAa7D,EAAM6D,cArBA,SAAAoE,GACvB,MAAO,CACHrH,kBAAmB,kBAAMqH,EAAS,CAACnE,KCtYR,yBDuY3B0D,OAAQ,SAACjC,EAAW2C,GAAZ,OAA0BD,EAAS,CAACnE,KCtY7B,UDsYwDqE,QAAS,CAAC5C,YAAW2C,gBAC5FT,OAAQ,SAAClC,GAAD,OAAe0C,EAAS,CAACnE,KCtYb,eDsY6CqE,QAAS,CAAC5C,gBAC3EmC,SAAU,kBAAMO,EAAS,CAACnE,KCtYT,eDuYjB6D,SAAU,kBAAMM,EAAS,CAACnE,KCtYJ,oBDuYtBjB,WAAY,SAAC3H,EAAME,EAAegI,EAAKV,EAAU6C,GAArC,OAAmD0C,EAAS,CAACnE,KCtYtD,cDsYqFqE,QAAS,CAACjN,OAAME,gBAAegI,MAAKV,WAAU6C,gBACtJR,KAAM,kBAAMkD,EAAS,CAACnE,KCtYV,UDuYZqB,qBAAsB,SAACI,GAAD,OAAe0C,EAAS,CAACnE,KCtYhB,0BDsY2DqE,QAAS,CAAC5C,gBACpGF,0BAA2B,SAAA9E,GAAC,OAAI0H,EAAS,CAACnE,KCtYN,kCDuYpC6B,qBAAsB,SAACyC,EAAK7C,GAAN,OAAoB0C,EAAS,CAACnE,KCtY9B,iBDsYgEqE,QAAS,CAACC,MAAK7C,gBACrGG,iBAAkB,SAAC2C,EAAcH,GAAf,OAA6BD,EAAS,CAACnE,KCtY/B,qBDsYqEqE,QAAS,CAACE,eAAcH,kBAahHxE,CAA6ChK,GEnZxC4O,QACW,cAA7B9H,OAAO+H,SAASC,UAEe,UAA7BhI,OAAO+H,SAASC,UAEhBhI,OAAO+H,SAASC,SAASC,MACvB,6ECdAhH,EAAW,CACb,EACA,GAgFEX,EAAW,CA7EA,CACbgC,GAAI,EACJ/B,KAAM,CACF,CAAC,CAAC7F,KAAMqH,EAAMlG,GAAOjB,cAAe,GAAG,CAACF,KAAM,KAAME,cAAe,OACnE,CAAC,CAACF,KAAM,KAAaE,cAAe,MAAM,CAACF,KAAM,KAAME,cAAe,OACtE,CAAC,CAACF,KAAM,KAAaE,cAAe,MAAM,CAACF,KAAM,KAAME,cAAe,OACtE,CAAC,CAACF,KAAM,KAAaE,cAAe,MAAM,CAACF,KAAM,KAAME,cAAe,OACtE,CAAC,CAACF,KAAMqH,EAAM/F,GAAOpB,cAAe,GAAG,CAACF,KAAM,KAAME,cAAe,OACnE,CAAC,CAACF,KAAM,KAAaE,cAAe,MAAM,CAACF,KAAM,KAAME,cAAe,OACtE,CAAC,CAACF,KAAM,KAAaE,cAAe,MAAM,CAACF,KAAM,KAAME,cAAe,OACtE,CAAC,CAACF,KAAMqH,EAAMlG,GAAOjB,cAAe,GAAG,CAACF,KAAM,KAAME,cAAe,OACnE,CAAC,CAACF,KAAM,KAAaE,cAAe,MAAM,CAACF,KAAM,KAAME,cAAe,OACtE,CAAC,CAACF,KAAMqH,EAAMlG,GAAOjB,cAAe,GAAG,CAACF,KAAM,KAAME,cAAe,OACnE,CAAC,CAACF,KAAMqH,EAAM7F,GAAOtB,cAAe,GAAG,CAACF,KAAM,KAAME,cAAe,OACnE,CAAC,CAACF,KAAM,KAAaE,cAAe,MAAM,CAACF,KAAM,KAAME,cAAe,OACtE,CAAC,CAACF,KAAMqH,EAAMlG,GAAOjB,cAAe,GAAG,CAACF,KAAM,KAAME,cAAe,OACnE,CAAC,CAACF,KAAM,KAAaE,cAAe,MAAM,CAACF,KAAM,KAAME,cAAe,OACtE,CAAC,CAACF,KAAMqH,EAAMpG,GAAOf,cAAe,GAAG,CAACF,KAAM,KAAME,cAAe,OACnE,CAAC,CAACF,KAAM,KAAaE,cAAe,MAAM,CAACF,KAAM,KAAME,cAAe,OACtE,CAAC,CAACF,KAAMqH,EAAMlG,GAAOjB,cAAe,GAAG,CAACF,KAAM,KAAME,cAAe,OACnE,CAAC,CAACF,KAAM,KAAaE,cAAe,MAAM,CAACF,KAAM,KAAME,cAAe,OACtE,CAAC,CAACF,KAAM,KAAaE,cAAe,MAAM,CAACF,KAAM,KAAME,cAAe,OACtE,CAAC,CAACF,KAAM,KAAaE,cAAe,MAAM,CAACF,KAAM,KAAME,cAAe,OACtE,CAAC,CAACF,KAAMqH,EAAM3F,GAAOxB,cAAe,GAAG,CAACF,KAAM,KAAME,cAAe,OACnE,CAAC,CAACF,KAAM,KAAaE,cAAe,MAAM,CAACF,KAAM,KAAME,cAAe,OACtE,CAAC,CAACF,KAAM,KAAaE,cAAe,MAAM,CAACF,KAAM,KAAME,cAAe,OACtE,CAAC,CAACF,KAAMqH,EAAMlG,GAAOjB,cAAe,GAAG,CAACF,KAAM,KAAME,cAAe,OACnE,CAAC,CAACF,KAAM,KAAaE,cAAe,MAAM,CAACF,KAAM,KAAME,cAAe,OACtE,CAAC,CAACF,KAAMqH,EAAMlG,GAAOjB,cAAe,GAAG,CAACF,KAAM,KAAME,cAAe,OACnE,CAAC,CAACF,KAAMqH,EAAM1F,IAAOzB,cAAe,GAAG,CAACF,KAAM,KAAME,cAAe,OACnE,CAAC,CAACF,KAAM,KAAaE,cAAe,MAAM,CAACF,KAAM,KAAME,cAAe,OACtE,CAAC,CAACF,KAAMqH,EAAM3F,GAAOxB,cAAe,GAAG,CAACF,KAAM,KAAME,cAAe,OACnE,CAAC,CAACF,KAAM,KAAaE,cAAe,MAAM,CAACF,KAAM,KAAME,cAAe,OACtE,CAAC,CAACF,KAAMqH,EAAM/F,GAAOpB,cAAe,GAAG,CAACF,KAAM,KAAME,cAAe,OACnE,CAAC,CAACF,KAAM,KAAaE,cAAe,MAAM,CAACF,KAAM,KAAME,cAAe,OACtE,CAAC,CAACF,KAAMqH,EAAMlG,GAAOjB,cAAe,GAAG,CAACF,KAAM,KAAME,cAAe,OACnE,CAAC,CAACF,KAAM,KAAaE,cAAe,MAAM,CAACF,KAAM,KAAME,cAAe,OACtE,CAAC,CAACF,KAAMqH,EAAM3F,GAAOxB,cAAe,GAAG,CAACF,KAAM,KAAME,cAAe,OACnE,CAAC,CAACF,KAAM,KAAaE,cAAe,MAAM,CAACF,KAAM,KAAME,cAAe,OACtE,CAAC,CAACF,KAAMqH,EAAMtF,GAAO7B,cAAe,GAAG,CAACF,KAAM,KAAME,cAAe,OACnE,CAAC,CAACF,KAAM,KAAaE,cAAe,MAAM,CAACF,KAAM,KAAME,cAAe,OACtE,CAAC,CAACF,KAAMqH,EAAMlG,GAAOjB,cAAe,GAAG,CAACF,KAAM,KAAME,cAAe,OACnE,CAAC,CAACF,KAAMqH,EAAMpG,GAAOf,cAAe,GAAG,CAACF,KAAM,KAAME,cAAe,OACnE,CAAC,CAACF,KAAM,KAAaE,cAAe,MAAM,CAACF,KAAM,KAAME,cAAe,OACtE,CAAC,CAACF,KAAMqH,EAAMpG,GAAOf,cAAe,GAAG,CAACF,KAAM,KAAME,cAAe,OACnE,CAAC,CAACF,KAAMqH,EAAMvG,GAAOZ,cAAe,GAAG,CAACF,KAAM,KAAME,cAAe,OACnE,CAAC,CAACF,KAAM,KAAaE,cAAe,MAAM,CAACF,KAAM,KAAME,cAAe,OACtE,CAAC,CAACF,KAAMqH,EAAMhG,GAAOnB,cAAe,GAAG,CAACF,KAAM,KAAME,cAAe,OACnE,CAAC,CAACF,KAAM,KAAaE,cAAe,MAAM,CAACF,KAAM,KAAME,cAAe,OACtE,CAAC,CAACF,KAAMqH,EAAMlG,GAAOjB,cAAe,GAAG,CAACF,KAAM,KAAME,cAAe,OACnE,CAAC,CAACF,KAAM,KAAaE,cAAe,MAAM,CAACF,KAAM,KAAME,cAAe,OACtE,CAAC,CAACF,KAAM,KAAaE,cAAe,MAAM,CAACF,KAAM,KAAME,cAAe,OACtE,CAAC,CAACF,KAAM,KAAaE,cAAe,MAAM,CAACF,KAAM,KAAME,cAAe,OACtE,CAAC,CAACF,KAAM,KAAaE,cAAe,MAAM,CAACF,KAAM,KAAME,cAAe,OACtE,CAAC,CAACF,KAAM,KAAaE,cAAe,MAAM,CAACF,KAAM,KAAME,cAAe,OACtE,CAAC,CAACF,KAAM,KAAaE,cAAe,MAAM,CAACF,KAAM,KAAME,cAAe,OACtE,CAAC,CAACF,KAAM,KAAaE,cAAe,MAAM,CAACF,KAAM,KAAME,cAAe,OACtE,CAAC,CAACF,KAAM,KAAaE,cAAe,MAAM,CAACF,KAAM,KAAME,cAAe,OACtE,CAAC,CAACF,KAAM,KAAaE,cAAe,MAAM,CAACF,KAAM,KAAME,cAAe,OACtE,CAAC,CAACF,KAAM,KAAaE,cAAe,MAAM,CAACF,KAAM,KAAME,cAAe,OACtE,CAAC,CAACF,KAAM,KAAaE,cAAe,MAAM,CAACF,KAAM,KAAME,cAAe,OACtE,CAAC,CAACF,KAAM,KAAaE,cAAe,MAAM,CAACF,KAAM,KAAME,cAAe,OACtE,CAAC,CAACF,KAAM,KAAaE,cAAe,MAAM,CAACF,KAAM,KAAME,cAAe,OACtE,CAAC,CAACF,KAAM,KAAaE,cAAe,MAAM,CAACF,KAAM,KAAME,cAAe,SAI7D,CACb0H,GAAI,EACJ/B,KAAM,CACF,CAAC,CAAC7F,KAAMqH,EAAMhG,GAAOnB,cAAe,GAAG,CAACF,KAAM,KAAME,cAAe,OACnE,CAAC,CAACF,KAAMqH,EAAMlG,GAAOjB,cAAe,GAAG,CAACF,KAAM,KAAME,cAAe,OACnE,CAAC,CAACF,KAAM,KAAaE,cAAe,MAAM,CAACF,KAAM,KAAME,cAAe,OACtE,CAAC,CAACF,KAAM,KAAaE,cAAe,MAAM,CAACF,KAAM,KAAME,cAAe,UAiDxEsN,EAAiB,WAA+B,IAA9BC,EAA8BrC,UAAAtF,OAAA,QAAAuF,IAAAD,UAAA,GAAAA,UAAA,GAAf,GAAIsC,EAAWtC,UAAAtF,OAAA,EAAAsF,UAAA,QAAAC,EAClD,OAAOqC,EAAO9E,MACV,IFhIiB,YEiIb,OAAOpE,OAAAmJ,EAAA,EAAAnJ,CAAA,GACAiJ,EADP,CAEI5H,KAAM4H,EAAa5H,KAAKpG,IAAI,SAAChB,GAAD,OACxBA,EAAImP,OAAO,CAAC5N,KAAM,KAAME,cAAe,WAGnD,IFtIsB,iBEuIlB,OAAOsE,OAAAmJ,EAAA,EAAAnJ,CAAA,GACAiJ,EADP,CAEI5H,KAAM4H,EAAa5H,KAAKpG,IAAI,SAAChB,GAAD,OACxBA,EAAIoP,OAAO,SAACnO,EAAOC,GAAR,OACNA,IAAMlB,EAAIqH,OAAS,QAIpC,IFlJe,UEmJX,GAAI2H,EAAa7F,KAAO8F,EAAOT,QAAQ5C,UAAW,CAE9C,IADA,IAAIyD,EAAS,GACJnO,EAAI,EAAGA,EAAI+N,EAAOT,QAAQD,UAAWrN,IAC1CmO,EAAO7F,KAAK,CAACjI,KAAM,KAAME,cAAe,OAE5C,OAAOsE,OAAAmJ,EAAA,EAAAnJ,CAAA,GACAiJ,EADP,CAEI5H,KAAM4H,EAAa5H,KAAK+H,OAAO,CAACE,MAGpC,OAAOL,EAGf,IF/JoB,eEgKhB,OAAIA,EAAa7F,KAAO8F,EAAOT,QAAQ5C,UAC5B7F,OAAAmJ,EAAA,EAAAnJ,CAAA,GACAiJ,EADP,CAEI5H,KAAM4H,EAAa5H,KAAKgI,OAAO,SAACpP,EAAKkB,GAAN,OAC1BA,IAAM8N,EAAa5H,KAAKC,OAAS,MAInC2H,EAGf,IFxKmB,cEyKf,OAAQA,EAAa7F,KAAO8F,EAAOT,QAAQ5C,UAApC7F,OAAAmJ,EAAA,EAAAnJ,CAAA,GACAiJ,EADA,CAEH5H,KAAM4H,EAAa5H,KAAKpG,IAAI,SAAChB,EAAKkB,GAAN,OACvBA,IAAM+N,EAAOT,QAAQ/E,IAClBzJ,EAAIgB,IAAI,SAACC,EAAOqO,GAAR,OACHA,IAAML,EAAOT,QAAQzF,SAAY,CAC9BxH,KAAM0N,EAAOT,QAAQjN,KACrBE,cAAewN,EAAOT,QAAQ/M,eAC9BR,IACJjB,MAEZgP,EAER,QACI,OAAOA,IAkBb9E,EAAc,CAChB,CAAC1I,MAAO,YACR,CAACA,MAAO,YACR,CAACA,MAAO,QACR,CAACA,MAAO,WAcG+N,EARIC,YAAgB,CAC/BlJ,OAzBkB,WAA6B,IAA5BmJ,EAA4B9C,UAAAtF,OAAA,QAAAuF,IAAAD,UAAA,GAAAA,UAAA,GAAd,EACjC,QAD+CA,UAAAtF,OAAA,EAAAsF,UAAA,QAAAC,GACjCzC,MACV,IFpMoB,eEqMhB,OAAQsF,EAAc,EAC1B,IFrMoB,eEsMhB,OAAQA,EAAc,EAAI,EAAK,EAAKA,EAAc,EACtD,QACI,OAAOA,IAmBf3G,YAfuB,eAAC4G,EAAD/C,UAAAtF,OAAA,QAAAuF,IAAAD,UAAA,IAAAA,UAAA,SF3MQ,yBE2MRA,UAAAtF,OAAA,EAAAsF,UAAA,QAAAC,GACfzC,MAA6CuF,EAAmBA,GAexEvI,SAjHoB,WAAsC,IACtDwI,EADiBC,EAAqCjD,UAAAtF,OAAA,QAAAuF,IAAAD,UAAA,GAAAA,UAAA,GAArBxF,EAAU8H,EAAWtC,UAAAtF,OAAA,EAAAsF,UAAA,QAAAC,EAE1D,OAAOqC,EAAO9E,MACV,IFnG0B,qBEuGtB,IAHA,IAAM/C,EAAO,GAEPmH,EAAYU,EAAOT,QAAQD,UACxBrN,EAAI,EAAGA,EAFA,EAEaA,IAAK,CAC9BkG,EAAKlG,GAAK,GACV,IAAK,IAAIoO,EAAI,EAAGA,EAAIf,EAAWe,IAC3BlI,EAAKlG,GAAGsI,KAAM,CAACjI,KAAM,KAAME,cAAe,OAGlDkO,EAAkBC,EAAcT,OAAO,CAAChG,GAAI8F,EAAOT,QAAQE,aAActH,KAAMA,IAC/E,MACJ,QACIuI,EAAkBC,EAE1B,OAAOD,EAAgB3O,IAAI,SAAC8K,GAAD,OACvBiD,EAAejD,EAASmD,MA+F5BnH,SAnIoB,WAAsC,IAArC+H,EAAqClD,UAAAtF,OAAA,QAAAuF,IAAAD,UAAA,GAAAA,UAAA,GAArB7E,EAAUmH,EAAWtC,UAAAtF,OAAA,EAAAsF,UAAA,QAAAC,EAC1D,OAAOqC,EAAO9E,MACV,IFpF+B,0BEqF3B,OAAO0F,EAAcV,OAAOF,EAAOT,QAAQ5C,WAC/C,IFrFoC,+BEsFhC,OAAOiE,EAAcT,OAAO,SAACxD,EAAW1K,GAAZ,OACxBA,IAAM2O,EAAcxI,OAAS,IAErC,IFxFsB,iBEyFlB,OAAOwI,EAAc7O,IAAI,SAAC4K,EAAW1K,GAAZ,OACpBA,IAAM+N,EAAOT,QAAQC,IAAOQ,EAAOT,QAAQ5C,UAAYA,IAEhE,QACI,OAAOiE,IAuHf3F,YARuB,eAAC4F,EAADnD,UAAAtF,OAAA,QAAAuF,IAAAD,UAAA,GAAAA,UAAA,GAAoBzC,EAApByC,UAAAtF,OAAA,GAAAsF,UAAA,UACvBmD,KC9MEC,EAAQC,YAAYC,GAE1BC,IAASC,OAAOjQ,EAAAC,EAAAC,cAACgQ,EAAA,EAAD,CAAUL,MAAOA,GAAO7P,EAAAC,EAAAC,cAACiQ,EAAD,OAAoBC,SAASC,eAAe,SFqH9E,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,KAAK,SAAAC,GACjCA,EAAaC","file":"static/js/main.c8d90c92.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1IQbR\"};","import React from 'react';\nimport * as colors from '../colors';\n\n//import styles from './Row.module.css';\n\nconst row = props =>\n    <div style={{height: props.height + 'px', boxSizing: 'border-box', display: 'flex', whiteSpace: 'nowrap', background: colors.patternBackground, padding: '5px', fontFamily: 'Roboto Mono'}}>\n        {props.index.toString(16).padStart(2, '0')}&nbsp; \n        {props.row.map((track, i) =>\n            <div key={i} style={{fontFamily: 'Roboto Mono', background: 'lightgreen'}}>\n                <span style={{background: (props.isRowSelected && (2*i    ) === props.curColumn) ? 'pink' : '', color: 'white'}}>\n                    {track.note ? track.note.label : '...'}</span> \n                <span style={{background: (props.isRowSelected && (2*i + 1) === props.curColumn) ? 'pink' : '', color: colors.instrumentMotif}}>\n                    {track.instrumentIdx !== null ? track.instrumentIdx.toString(16).padStart(2, '0') : '..'}</span>\n                <span>|</span>\n            </div>\n        )}\n    </div>\n\nexport default row;\n","export const patternBackground = 'lightgray';\nexport const instrumentMotif = 'blue';\nexport const sequenceBackground = 'lightyellow';\nexport const selectedSequence = 'yellow';\n","const notes = {\n    C4:     {label: 'C-4', frequency: 261.6},\n    Cs4:    {label: 'C#4', frequency: 277.2},\n    D4:     {label: 'D-4', frequency: 293.7},\n    Ds4:    {label: 'D#4', frequency: 311.1},\n    E4:     {label: 'E-4', frequency: 329.6},\n    F4:     {label: 'F-4', frequency: 349.2},\n    Fs4:    {label: 'F#4', frequency: 370.0},\n    G4:     {label: 'G-4', frequency: 392.0},\n    Gs4:    {label: 'G#4', frequency: 415.3},\n    A4:     {label: 'A-4', frequency: 440.0},\n    As4:    {label: 'A#4', frequency: 466.2},\n    B4:     {label: 'B-4', frequency: 493.9},\n\n    C5:  {label: 'C-5', frequency: 523.3},\n    Cs5: {label: 'C#5', frequency: 554.4},\n    D5:  {label: 'D-5', frequency: 587.3},\n    Ds5: {label: 'D#5', frequency: 622.3},\n    E5:  {label: 'E-5', frequency: 659.3},\n    F5:  {label: 'F-5', frequency: 698.5},\n    Fs5:  {label: 'F#5', frequency: 740.0},\n    G5:  {label: 'G-5', frequency: 784.0},\n    Gs5:  {label: 'G#5', frequency: 830.6},\n    A5:  {label: 'A-5', frequency: 880.0},\n    As5:  {label: 'A#5', frequency: 932.3},\n    B5:  {label: 'B-5', frequency: 987.8},\n    C6:  {label: 'C-6', frequency: 1046.5},\n    Cs6: {label: 'C#6', frequency: 1108.7},\n    D6:  {label: 'D-6', frequency: 1174.7},\n    Ds6: {label: 'D#6', frequency: 1244.5},\n    E6:  {label: 'E-6', frequency: 1318.5},\n    none: null\n};\n\nexport default notes;\n","const keymap = {\n    KeyQ: 'C5',\n    Digit2: 'Cs5',\n    KeyW: 'D5',\n    Digit3: 'Ds5',\n    KeyE: 'E5',\n    KeyR: 'F5',\n    Digit5: 'Fs5',\n    KeyT: 'G5',\n    Digit6: 'Gs5',\n    KeyY: 'A5',\n    Digit7: 'As5',\n    KeyU: 'B5',\n    KeyI: 'C6',\n    Digit9: 'Cs6',\n    KeyO: 'D6',\n    Digit0: 'Ds6',\n    KeyP: 'E6',\n\n    KeyZ: 'C4',\n    KeyS: 'Cs4',\n    KeyX: 'D4',\n    KeyD: 'Ds4',\n    KeyC: 'E4',\n    KeyV: 'F4',\n    KeyG: 'Fs4',\n    KeyB: 'G4',\n    KeyH: 'Gs4',\n    KeyN: 'A4',\n    KeyJ: 'As4',\n    KeyM: 'B4',\n    Comma: 'C5',\n    KeyL: 'Cs5',\n    Period: 'D5',\n    Semicolon: 'Ds5',\n    Slash: 'E5',\n\n    Backspace: 'none'\n};\n\nexport default keymap;\n","import React from 'react';\nimport styles from './App.module.css';\nimport * as actionTypes from '../store/actions';\nimport * as colors from '../colors';\nimport {connect} from 'react-redux';\n\nimport Row from '../components/Row';\n\nimport NOTES from '../notes';\nimport KEYMAP from '../keymap';\n\nclass App extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.patternRef = React.createRef();\n\n        this.audioContext = new (window.AudioContext || window.webkitAudioContext)();\n        this.nextPos = 0;\n        this.nextNoteTime = 0.0;\n        this.lookAheadSeconds = 0.1;\n        this.notesInQueue = [];\n        this.lastPosDrawn = 0;\n        this.noteLength = 0.5;\n        let gainNode = this.audioContext.createGain();\n        //gainNode.gain.value = this.state.volume\n        gainNode.gain.value = 0.5\n        gainNode.connect(this.audioContext.destination);\n        this.masterGainNode = gainNode;\n\n        this.rowHeight = 31;\n\n        this.onKeyDown = this.onKeyDown.bind(this);\n        this.onMouseDown = this.onMouseDown.bind(this);\n    }\n\n    state = {\n        curPos: 0,\n        curColumn: 0,\n        curSequenceIdx: 0,\n        curPlayingSequenceIdx: 0,\n        isPlaying: false,\n        selectedInstrumentIdx: 0\n    }\n\n    componentDidMount = _ => {\n        window.addEventListener('keydown', this.onKeyDown);\n        window.addEventListener('mousedown', this.onMouseDown);\n    }\n\n    toggleIsRecording = _ => {\n        this.props.toggleIsRecording();\n    }\n\n    getNumTracks = _ => {\n        return this.props.patterns[0].rows[0].length;\n    }\n\n    curColumnRight = _ => {\n        let numColsPerRow = this.getNumTracks() * 2;\n        let col = (this.state.curColumn + 1 > numColsPerRow - 1) ? numColsPerRow - 1 : this.state.curColumn + 1;\n        this.setState({\n            curColumn: col\n        });\n    }\n\n    curColumnLeft = _ => {\n        this.setState({\n            curColumn: (this.state.curColumn - 1 < 0) ? 0 : this.state.curColumn - 1\n        });\n    }\n\n    curPosNext = _ => {\n        this.setState((prevState, props) => {\n            const nextPos = ( (prevState.curPos + 1) % props.patterns[props.sequence[prevState.curSequenceIdx]].rows.length );\n            if (nextPos === 0) {\n                return {\n                    curSequenceIdx: (prevState.curSequenceIdx + 1) % props.sequence.length,\n                    curPos: nextPos\n                }\n            } else {\n                return {\n                    curPos: nextPos\n                }\n            }\n        }, () => {\n            const scrollAmt = this.rowHeight*this.state.curPos;\n            this.patternRef.current.scrollTop = scrollAmt;\n        });\n    }\n\n    curPosPrev = _ => {\n        this.setState((prevState, props) => {\n            let prevPos = prevState.curPos - 1;\n            if (prevPos < 0) {\n                const lastSequenceIdx = (prevState.curSequenceIdx - 1 < 0) ? (props.sequence.length - 1) : (prevState.curSequenceIdx - 1);\n                prevPos = props.patterns[props.sequence[lastSequenceIdx]].rows.length - 1;\n                return {\n                    curSequenceIdx: lastSequenceIdx,\n                    curPos: prevPos\n                }\n            } else {\n                return {\n                    curPos: prevPos\n                }\n            }\n        }, () => {\n            const scrollAmt = this.rowHeight*this.state.curPos;\n            this.patternRef.current.scrollTop = scrollAmt;\n        });\n    }\n\n    onMouseDown = (e) => {\n        e.preventDefault();\n    }\n\n    onKeyDown = (e) => {\n        switch(e.code) {\n            case 'ArrowDown':\n                if (!this.state.isPlaying)\n                    this.curPosNext();\n                break;\n            case 'ArrowUp':\n                if (!this.state.isPlaying)\n                    this.curPosPrev();\n                break;\n            case 'ArrowLeft':\n                this.curColumnLeft();\n                break;\n            case 'ArrowRight':\n                this.curColumnRight();\n                break;\n            case 'Enter':\n                this.togglePlay();\n                break;\n            case 'Space':\n                this.props.toggleIsRecording();\n                break;\n            case 'KeyZ':\n            case 'KeyS':\n            case 'KeyX':\n            case 'KeyD':\n            case 'KeyC':\n            case 'KeyV':\n            case 'KeyG':\n            case 'KeyB':\n            case 'KeyH':\n            case 'KeyN':\n            case 'KeyJ':\n            case 'KeyM':\n            case 'Comma':\n            case 'KeyL':\n            case 'Period':\n            case 'Semicolon':\n            case 'Slash':\n            case 'KeyQ':\n            case 'Digit2':\n            case 'KeyW':\n            case 'Digit3':\n            case 'KeyE':\n            case 'KeyR':\n            case 'Digit5':\n            case 'KeyT':\n            case 'Digit6':\n            case 'KeyY':\n            case 'Digit7':\n            case 'KeyU':\n            case 'KeyI':\n            case 'Digit9':\n            case 'KeyO':\n            case 'Digit0':\n            case 'KeyP':\n            case 'Backspace':\n                this.playNote(NOTES[KEYMAP[e.code]]);\n                if (this.props.isRecording) {\n                    const note = NOTES[KEYMAP[e.code]];\n                    let trackNum = Math.floor(this.state.curColumn / 2);\n                    let instrumentIdx = this.state.selectedInstrumentIdx;\n                    this.props.recordNote(note, instrumentIdx, this.state.curPos, trackNum, this.props.patterns[this.props.sequence[this.state.curSequenceIdx]].id);\n                }\n                break;\n            default:\n        }\n    }\n\n    playNote(note, intrument = null) {\n        if (note === NOTES.none) return;\n        /*\n        const bufferSize = this.audioContext.sampleRate * 0.01;\n        const buffer = this.audioContext.createBuffer(1, bufferSize, this.audioContext.sampleRate);\n        let data = buffer.getChannelData(0);\n\n        for (let i = 0; i < bufferSize; i++) {\n            data[i] = Math.random() * 2 - 1;\n        }\n\n        let noise = this.audioContext.createBufferSource();\n        noise.buffer = buffer;\n\n        let bandpass = this.audioContext.createBiquadFilter();\n        bandpass.type = 'bandpass';\n        bandpass.frequency.value = 1000;\n\n        noise.connect(bandpass).connect(this.masterGainNode);\n\n        noise.start();\n        */\n\n        const osc = this.audioContext.createOscillator();\n        const g = this.audioContext.createGain();\n        osc.type = this.props.instruments[this.state.selectedInstrumentIdx].label;\n        g.connect(this.masterGainNode);\n        osc.connect(g);\n        osc.frequency.value = note.frequency;\n        let now = this.audioContext.currentTime;\n        g.gain.setTargetAtTime(0, this.noteLength, 0.5);\n        osc.start(now);\n        osc.stop(now + this.noteLength);\n    }\n\n    scheduleNote = (notePos, time) => {\n        this.notesInQueue.push({pos: notePos, time: time});\n        \n        for (let i = 0; i < this.getNumTracks(); i++) {\n            const track = this.props.patterns[this.props.sequence[this.state.curPlayingSequenceIdx]].rows[notePos][i];\n            const note = track.note;\n            if (note === null) continue;\n            let frequency = note.frequency;\n\n            const osc = this.audioContext.createOscillator();\n            const g = this.audioContext.createGain();\n            g.connect(this.masterGainNode);\n            osc.connect(g);\n            const instrument = this.props.instruments[track.instrumentIdx];\n            osc.type = instrument.label;\n            osc.frequency.value = frequency;\n            g.gain.setTargetAtTime(0, this.noteLength, 0.5);\n            osc.start(time);\n            osc.stop(time + this.noteLength);\n        }\n    }\n\n    scheduler = _ => {\n        while (this.nextNoteTime < this.audioContext.currentTime + this.lookAheadSeconds) {\n            this.scheduleNote(this.nextPos, this.nextNoteTime);\n            //this.nextNoteTime += this.noteLength;\n            this.nextNoteTime += 0.135;\n\n            this.setState((prevState, props) => {\n                this.nextPos = (this.nextPos + 1) % props.patterns[props.sequence[prevState.curPlayingSequenceIdx]].rows.length;\n                if (this.nextPos === 0) {\n                    return {\n                        curPlayingSequenceIdx: (prevState.curPlayingSequenceIdx + 1) % props.sequence.length\n                    }\n                }\n            });\n        }\n        this.timer = setTimeout(this.scheduler, this.lookAheadSeconds);\n    }\n\n    updatePos = _ => {\n        let currentTime = this.audioContext.currentTime\n        while (this.notesInQueue.length && this.notesInQueue[0].time < currentTime) {\n            if (this.lastPosDrawn !== this.notesInQueue[0].pos) {\n                this.curPosNext();\n                this.lastPosDrawn = this.notesInQueue[0].pos;\n            }\n            this.notesInQueue.splice(0, 1);\n        }\n        requestAnimationFrame(this.updatePos);\n    }\n\n    play = _ => {\n        this.setState({\n            isPlaying: true\n        });\n\n        this.nextNoteTime = this.audioContext.currentTime;\n        this.nextPos = this.state.curPos;\n        this.lastPosDrawn = this.state.curPos;\n        this.setState((prevState, props) => ({\n            curPlayingSequenceIdx: prevState.curSequenceIdx\n        }));\n        this.scheduler();\n        this.updatePos();\n    }\n\n    stop = _ => {\n        this.setState({\n            isPlaying: false\n        });\n\n        clearTimeout(this.timer);\n    }\n\n    togglePlay = _ => {\n        if (!this.state.isPlaying) {\n            this.play();\n        } else {\n            this.stop();\n        }\n    }\n    \n    onSelectInstrument = (i) => {\n        this.setState({\n            selectedInstrumentIdx: i\n        });\n    }\n\n    //TODO: insert at specific index\n    extendSequence = _ => {\n        const lastPatternId = 0;\n        this.props.addPatternToSequence(lastPatternId); \n    }\n\n    //TODO: delete specific index\n    shortenSequence = _ => {\n        this.props.removePatternFromSequence();\n    }\n\n    incrementSequencePatternId = _ => {\n        const patternId = this.props.sequence[this.state.curSequenceIdx] + 1;\n        if (!this.props.patterns.find((pattern) => pattern.id === patternId)) {\n            this.props.createNewPattern(patternId, this.getNumTracks());\n        }\n        this.props.setSequencePatternId(this.state.curSequenceIdx, patternId);\n    }\n\n    decrementSequencePatternId = _ => {\n        const patternId = this.props.sequence[this.state.curSequenceIdx] - 1;\n        if (patternId >= 0)\n            this.props.setSequencePatternId(this.state.curSequenceIdx, patternId);\n    }\n\n    onSelectSequenceIdx = (i) => {\n        this.setState({\n            curPos: 0,\n            curSequenceIdx: i\n        });\n    }\n\n    render() {\n        return (\n            <div className={styles.App}>\n                <div>\n                    pattern: {this.props.sequence[this.state.curSequenceIdx]}\n                </div>\n                <div style={{display: 'flex', justifyContent: 'space-between'}} >\n                    <div id='sequence-container' style={{display: 'block', height: '60px', margin: '0'}}>\n                        <ul id='sequence' style={{margin: '0', height: 'inherit', cursor: 'pointer', fontFamily: 'Roboto Mono', listStyle: 'none', background: colors.sequenceBackground, display: 'block', paddingLeft: '0', overflowY: 'scroll', float: 'left'}} >\n                            {this.props.sequence.map((patternIdx, i) =>\n                                <li key={i} onClick={() => this.onSelectSequenceIdx(i)} style={(i === this.state.curSequenceIdx) ? {background: colors.selectedSequence} : {}} >{i}| {patternIdx}</li>\n                            )}\n                        </ul>\n                        <div id='sequence-controls' style={{display: 'grid', gridTemplateColumns: '1fr 1fr', height: 'inherit', width: '100px', float: 'left'}}>\n                            <button style={{gridColumn: '1 / 3'}} onClick={this.extendSequence}>Insert</button>\n                            <button style={{gridColumn: '1 / 3'}} onClick={this.shortenSequence}>Delete</button>\n                            <button onClick={this.incrementSequencePatternId}>+</button>\n                            <button onClick={this.decrementSequencePatternId}>-</button>\n                        </div>\n                    </div>\n\n                    <ul style={{background: colors.instrumentMotif, listStyle: 'none', padding: '0', cursor: 'pointer', overflowY: 'scroll'}} >\n                        {this.props.instruments.map((instrument, i) =>\n                            <li style={{background: (i === this.state.selectedInstrumentIdx) ? 'dark' + colors.instrumentMotif : '', color: 'white'}} key={i} onClick={() => this.onSelectInstrument(i)} >{instrument.label}</li>\n                        )}\n                    </ul>\n                </div>\n\n                <button onClick={this.toggleIsRecording}>\n                    {this.props.isRecording ? 'is recording' : 'is not recording'}\n                </button>\n                <button onClick={() => this.props.addRow(this.props.patterns[this.state.curSequenceIdx].id, this.getNumTracks())}>Add Row</button>\n                <button onClick={() => this.props.subRow(this.props.patterns[this.state.curSequenceIdx].id)}>Sub Row</button>\n                <button onClick={this.props.addTrack}>Add Track</button>\n                <button onClick={this.props.subTrack}>Sub Track</button>\n                <button style={{display: 'block'}} onClick={this.togglePlay} >{!this.state.isPlaying ? 'Play' : 'Stop'}</button>\n\n\n                <div ref={this.patternRef} style={{boxSizing: 'border-box', background: colors.patternBackground, padding: '35vh 0', overflowY: 'scroll', height: '70vh', width: '99%', position: 'absolute', bottom: '0'}}>\n                {this.props.patterns[this.props.sequence[this.state.curSequenceIdx]].rows.map((row, i) =>\n                    <Row height={this.rowHeight} key={i} index={i} row={row} isRowSelected={i === this.state.curPos} curColumn={this.state.curColumn}>\n                    </Row>\n                )}\n                </div>\n            </div>\n        )\n    };\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        toggleIsRecording: () => dispatch({type: actionTypes.TOGGLE_IS_RECORDING}),\n        addRow: (patternId, numTracks) => dispatch({type: actionTypes.ADD_ROW, payload: {patternId, numTracks}}),\n        subRow: (patternId) => dispatch({type: actionTypes.SUBTRACT_ROW, payload: {patternId}}),\n        addTrack: () => dispatch({type: actionTypes.ADD_TRACK}),\n        subTrack: () => dispatch({type: actionTypes.SUBTRACT_TRACK}),\n        recordNote: (note, instrumentIdx, pos, trackNum, patternId) => dispatch({type: actionTypes.RECORD_NOTE, payload: {note, instrumentIdx, pos, trackNum, patternId}}),\n        play: () => dispatch({type: actionTypes.PLAY}),\n        addPatternToSequence: (patternId) => dispatch({type: actionTypes.ADD_PATTERN_TO_SEQUENCE, payload: {patternId}}),\n        removePatternFromSequence: _ => dispatch({type: actionTypes.REMOVE_PATTERN_FROM_SEQUENCE}),\n        setSequencePatternId: (idx, patternId) => dispatch({type: actionTypes.SET_PATTERN_ID, payload: {idx, patternId}}),\n        createNewPattern: (newPatternId, numTracks) => dispatch({type: actionTypes.CREATE_NEW_PATTERN, payload: {newPatternId, numTracks}})\n    };\n}\n\nconst mapStateToProps = state => {\n    return {\n        isRecording: state.isRecording,\n        patterns: state.patterns,\n        sequence: state.sequence,\n        instruments: state.instruments\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","export const CUR_POS_NEXT = 'CUR_POS_NEXT';\nexport const CUR_POS_PREV = 'CUR_POS_PREV';\nexport const TOGGLE_IS_RECORDING = 'TOGGLE_IS_RECORDING';\nexport const ADD_ROW = 'ADD_ROW';\nexport const SUBTRACT_ROW = 'SUBTRACT_ROW';\nexport const ADD_TRACK = 'ADD_TRACK';\nexport const SUBTRACT_TRACK = 'SUBTRACT_TRACK';\nexport const RECORD_NOTE = 'RECORD_NOTE';\nexport const PLAY = 'PLAY';\nexport const ADD_PATTERN_TO_SEQUENCE = 'ADD_PATTERN_TO_SEQUENCE';\nexport const REMOVE_PATTERN_FROM_SEQUENCE = 'REMOVE_PATTERN_FROM_SEQUENCE';\nexport const SET_PATTERN_ID = 'SET_PATTERN_ID';\nexport const CREATE_NEW_PATTERN = 'CREATE_NEW_PATTERN';\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import * as actionTypes from './actions';\nimport NOTES from '../notes';\nimport {combineReducers} from 'redux';\n\nconst sequence = [\n    0,\n    1\n]\n\nconst pattern0 = {\n    id: 0,\n    rows: [\n        [{note: NOTES.D5,    instrumentIdx: 0},{note: null, instrumentIdx: null}],\n        [{note: null,        instrumentIdx: null},{note: null, instrumentIdx: null}],\n        [{note: null,        instrumentIdx: null},{note: null, instrumentIdx: null}],\n        [{note: null,        instrumentIdx: null},{note: null, instrumentIdx: null}],\n        [{note: NOTES.F5,    instrumentIdx: 0},{note: null, instrumentIdx: null}],\n        [{note: null,        instrumentIdx: null},{note: null, instrumentIdx: null}],\n        [{note: null,        instrumentIdx: null},{note: null, instrumentIdx: null}],\n        [{note: NOTES.D5,    instrumentIdx: 0},{note: null, instrumentIdx: null}],\n        [{note: null,        instrumentIdx: null},{note: null, instrumentIdx: null}],\n        [{note: NOTES.D5,    instrumentIdx: 0},{note: null, instrumentIdx: null}],\n        [{note: NOTES.G5,    instrumentIdx: 0},{note: null, instrumentIdx: null}],\n        [{note: null,        instrumentIdx: null},{note: null, instrumentIdx: null}],\n        [{note: NOTES.D5,    instrumentIdx: 0},{note: null, instrumentIdx: null}],\n        [{note: null,        instrumentIdx: null},{note: null, instrumentIdx: null}],\n        [{note: NOTES.C5,    instrumentIdx: 0},{note: null, instrumentIdx: null}],\n        [{note: null,        instrumentIdx: null},{note: null, instrumentIdx: null}],\n        [{note: NOTES.D5,    instrumentIdx: 0},{note: null, instrumentIdx: null}],\n        [{note: null,        instrumentIdx: null},{note: null, instrumentIdx: null}],\n        [{note: null,        instrumentIdx: null},{note: null, instrumentIdx: null}],\n        [{note: null,        instrumentIdx: null},{note: null, instrumentIdx: null}],\n        [{note: NOTES.A5,    instrumentIdx: 0},{note: null, instrumentIdx: null}],\n        [{note: null,        instrumentIdx: null},{note: null, instrumentIdx: null}],\n        [{note: null,        instrumentIdx: null},{note: null, instrumentIdx: null}],\n        [{note: NOTES.D5,    instrumentIdx: 0},{note: null, instrumentIdx: null}],\n        [{note: null,        instrumentIdx: null},{note: null, instrumentIdx: null}],\n        [{note: NOTES.D5,    instrumentIdx: 0},{note: null, instrumentIdx: null}],\n        [{note: NOTES.As5,   instrumentIdx: 0},{note: null, instrumentIdx: null}],\n        [{note: null,        instrumentIdx: null},{note: null, instrumentIdx: null}],\n        [{note: NOTES.A5,    instrumentIdx: 0},{note: null, instrumentIdx: null}],\n        [{note: null,        instrumentIdx: null},{note: null, instrumentIdx: null}],\n        [{note: NOTES.F5,    instrumentIdx: 0},{note: null, instrumentIdx: null}],\n        [{note: null,        instrumentIdx: null},{note: null, instrumentIdx: null}],\n        [{note: NOTES.D5,    instrumentIdx: 0},{note: null, instrumentIdx: null}],\n        [{note: null,        instrumentIdx: null},{note: null, instrumentIdx: null}],\n        [{note: NOTES.A5,    instrumentIdx: 0},{note: null, instrumentIdx: null}],\n        [{note: null,        instrumentIdx: null},{note: null, instrumentIdx: null}],\n        [{note: NOTES.D6,    instrumentIdx: 0},{note: null, instrumentIdx: null}],\n        [{note: null,        instrumentIdx: null},{note: null, instrumentIdx: null}],\n        [{note: NOTES.D5,    instrumentIdx: 0},{note: null, instrumentIdx: null}],\n        [{note: NOTES.C5,    instrumentIdx: 0},{note: null, instrumentIdx: null}],\n        [{note: null,        instrumentIdx: null},{note: null, instrumentIdx: null}],\n        [{note: NOTES.C5,    instrumentIdx: 0},{note: null, instrumentIdx: null}],\n        [{note: NOTES.A4,    instrumentIdx: 0},{note: null, instrumentIdx: null}],\n        [{note: null,        instrumentIdx: null},{note: null, instrumentIdx: null}],\n        [{note: NOTES.E5,    instrumentIdx: 0},{note: null, instrumentIdx: null}],\n        [{note: null,        instrumentIdx: null},{note: null, instrumentIdx: null}],\n        [{note: NOTES.D5,    instrumentIdx: 0},{note: null, instrumentIdx: null}],\n        [{note: null,        instrumentIdx: null},{note: null, instrumentIdx: null}],\n        [{note: null,        instrumentIdx: null},{note: null, instrumentIdx: null}],\n        [{note: null,        instrumentIdx: null},{note: null, instrumentIdx: null}],\n        [{note: null,        instrumentIdx: null},{note: null, instrumentIdx: null}],\n        [{note: null,        instrumentIdx: null},{note: null, instrumentIdx: null}],\n        [{note: null,        instrumentIdx: null},{note: null, instrumentIdx: null}],\n        [{note: null,        instrumentIdx: null},{note: null, instrumentIdx: null}],\n        [{note: null,        instrumentIdx: null},{note: null, instrumentIdx: null}],\n        [{note: null,        instrumentIdx: null},{note: null, instrumentIdx: null}],\n        [{note: null,        instrumentIdx: null},{note: null, instrumentIdx: null}],\n        [{note: null,        instrumentIdx: null},{note: null, instrumentIdx: null}],\n        [{note: null,        instrumentIdx: null},{note: null, instrumentIdx: null}],\n        [{note: null,        instrumentIdx: null},{note: null, instrumentIdx: null}],\n        [{note: null,        instrumentIdx: null},{note: null, instrumentIdx: null}],\n    ]\n};\n\nconst pattern1 = {\n    id: 1,\n    rows: [\n        [{note: NOTES.E5,    instrumentIdx: 0},{note: null, instrumentIdx: null}],\n        [{note: NOTES.D5,    instrumentIdx: 0},{note: null, instrumentIdx: null}],\n        [{note: null,        instrumentIdx: null},{note: null, instrumentIdx: null}],\n        [{note: null,        instrumentIdx: null},{note: null, instrumentIdx: null}]\n    ]\n};\n\nconst patterns = [\n    pattern0,\n    pattern1\n];\n\nconst sequenceReducer = (sequenceState = sequence, action) => {\n    switch(action.type) {\n        case actionTypes.ADD_PATTERN_TO_SEQUENCE:\n            return sequenceState.concat(action.payload.patternId);\n        case actionTypes.REMOVE_PATTERN_FROM_SEQUENCE:\n            return sequenceState.filter((patternId, i) =>\n                i !== sequenceState.length - 1\n            )\n        case actionTypes.SET_PATTERN_ID:\n            return sequenceState.map((patternId, i) => \n                (i === action.payload.idx) ? action.payload.patternId : patternId\n            )\n        default:\n            return sequenceState;\n    }\n}\n\nconst patternsReducer = (patternsState = patterns, action) => {\n    let updatedPatterns;\n    switch(action.type) {\n        case actionTypes.CREATE_NEW_PATTERN:\n            const rows = [];\n            const numRows = 5;\n            const numTracks = action.payload.numTracks;\n            for (let i = 0; i < numRows; i++) {\n                rows[i] = [];\n                for (let j = 0; j < numTracks; j++) {\n                    rows[i].push( {note: null, instrumentIdx: null} );\n                }\n            }\n            updatedPatterns = patternsState.concat({id: action.payload.newPatternId, rows: rows});\n            break;\n        default:\n            updatedPatterns = patternsState;\n    }\n    return updatedPatterns.map((pattern) =>\n        patternReducer(pattern, action)\n    )\n}\n\nconst patternReducer = (patternState = [], action) => {\n    switch(action.type) {\n        case actionTypes.ADD_TRACK:\n            return {\n                ...patternState,\n                rows: patternState.rows.map((row) => \n                    row.concat({note: null, instrumentIdx: null})\n                )\n            }\n        case actionTypes.SUBTRACT_TRACK:\n            return {\n                ...patternState,\n                rows: patternState.rows.map((row) =>\n                    row.filter((track, i) =>\n                        (i !== row.length - 1)\n                    )\n                )\n            }\n        case actionTypes.ADD_ROW:\n            if (patternState.id === action.payload.patternId) {\n                let newRow = [];\n                for (let i = 0; i < action.payload.numTracks; i++) {\n                    newRow.push({note: null, instrumentIdx: null});\n                }\n                return {\n                    ...patternState,\n                    rows: patternState.rows.concat([newRow])\n                }\n            } else {\n                return patternState;\n            }\n\n        case actionTypes.SUBTRACT_ROW:\n            if (patternState.id === action.payload.patternId) {\n                return {\n                    ...patternState,\n                    rows: patternState.rows.filter((row, i) =>\n                        (i !== patternState.rows.length - 1)\n                    )\n                }\n            } else {\n                return patternState;\n            }\n\n        case actionTypes.RECORD_NOTE:\n            return (patternState.id === action.payload.patternId) ? {\n                ...patternState,\n                rows: patternState.rows.map((row, i) =>\n                    (i === action.payload.pos) ? \n                        row.map((track, j) =>\n                            (j === action.payload.trackNum) ? {\n                                note: action.payload.note,\n                                instrumentIdx: action.payload.instrumentIdx\n                            } : track\n                        ) : row\n                )\n            } : patternState;\n\n        default:\n            return patternState;\n    }\n}\n\nconst curPosReducer = (curPosState = 0, action) => {\n    switch(action.type) {\n        case actionTypes.CUR_POS_NEXT:\n            return (curPosState + 1 % 8);\n        case actionTypes.CUR_POS_PREV:\n            return (curPosState - 1 < 0) ? 0 : (curPosState - 1);\n        default:\n            return curPosState;\n    }\n}\n\nconst isRecordingReducer = (isRecordingState = false, action) =>\n    (action.type === actionTypes.TOGGLE_IS_RECORDING) ? !isRecordingState : isRecordingState;\n\nconst instruments = [\n    {label: 'sawtooth'},\n    {label: 'triangle'},\n    {label: 'sine'},\n    {label: 'square'},\n];\n\nconst instrumentsReducer = (instrumentsState = instruments, action) =>\n    instrumentsState\n\nconst appReducer = combineReducers({\n    curPos: curPosReducer,\n    isRecording: isRecordingReducer,\n    patterns: patternsReducer,\n    sequence: sequenceReducer,\n    instruments: instrumentsReducer\n});\n\nexport default appReducer;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './containers/App';\nimport * as serviceWorker from './serviceWorker';\nimport {createStore} from 'redux';\nimport {Provider} from 'react-redux';\n\nimport reducer from './store/reducer';\n\nconst store = createStore(reducer);\n\nReactDOM.render(<Provider store={store}><App /></Provider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}